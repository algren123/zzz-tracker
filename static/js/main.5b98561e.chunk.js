(this["webpackJsonpdaily-sleep-tracker"]=this["webpackJsonpdaily-sleep-tracker"]||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},51:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(11),c=a.n(s),l=(a(44),a(45),a(15)),o=(a(46),a(36)),i=a(4),d=a(14),u=a(34),b=(a(47),a(62),u.a.initializeApp({apiKey:"AIzaSyCvj754p1_t2AV6rBgaF7NxHb9fnCHoEH0",authDomain:"zzz-tracker.firebaseapp.com",projectId:"zzz-tracker",storageBucket:"zzz-tracker.appspot.com",messagingSenderId:"1006356862639",appId:"1:1006356862639:web:a142a5924de3a66d7ee65a",measurementId:"G-DR5F3YJ2X9"})),m=a(3),h=r.a.createContext(),j=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(l.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){b.auth().onAuthStateChanged(c)}),[]),Object(m.jsx)(h.Provider,{value:{currentUser:s},children:t})};a(51);function x(){var e=Object(n.useState)(localStorage.theme),t=Object(l.a)(e,2),a=t[0],r=t[1],s="dark"===a?"light":"dark";return Object(n.useEffect)((function(){var e=window.document.documentElement;window.document.getElementById("background");e.classList.remove(s),e.classList.add(a),localStorage.setItem("theme",a)}),[a,s]),[s,r]}var p=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],s=x(),c=Object(l.a)(s,2),o=c[0],i=c[1],u=Object(n.useContext)(h).currentUser;return Object(n.useEffect)((function(){u&&(document.getElementById("login").classList.add("hidden"),document.getElementById("signup").classList.add("hidden"),document.getElementById("newEntry").classList.remove("hidden"),document.getElementById("logout").classList.remove("hidden"))}),[u]),Object(m.jsxs)("nav",{className:"bg-gray-400 bg-opacity-60 dark:bg-opacity-80 dark:bg-gray-800 transition-all duration-500",children:[Object(m.jsx)("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8",children:Object(m.jsxs)("div",{className:"relative flex items-center justify-between h-16",children:[Object(m.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:Object(m.jsxs)("button",{onClick:function(){return r(!a)},id:"hamburgerMenu",type:"button",className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 dark:text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[Object(m.jsx)("span",{className:"sr-only",children:"Open main menu"}),Object(m.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),Object(m.jsx)("svg",{className:"hidden h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})}),Object(m.jsx)("div",{className:"flex-1 flex items-center justify-center sm:items-stretch sm:justify-start",children:Object(m.jsx)("div",{className:"hidden sm:block sm:ml-6",children:Object(m.jsxs)("div",{className:"flex space-x-4",children:[Object(m.jsx)(d.b,{to:u?"/home":"/",className:"bg-gray-500 dark:bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium transition-all duration-500","aria-current":"page",children:"Home"}),Object(m.jsx)("a",{href:"#",className:"text-gray-500 dark:text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-all duration-500",children:"About"})]})})}),Object(m.jsxs)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[Object(m.jsx)("span",{onClick:function(){return i(o)},className:"mr-5 bg-yellow-300 hover:bg-yellow-400 dark:bg-gray-300 dark:hover:bg-gray-400 cursor-pointer rounded-md p-1 transition-all duration-500",children:"light"===o?Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})}):Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),Object(m.jsx)(d.b,{to:"/login",id:"login",className:"bg-gray-500 dark:bg-gray-900 text-white px-3 hover:bg-gray-900 py-2 rounded-md text-sm font-medium mr-3 transition duration-500","aria-current":"page",children:"Sign In"}),Object(m.jsx)(d.b,{to:"/signup",id:"signup",className:"hidden bg-yellow-600 text-white px-3 hover:bg-yellow-700 py-2 rounded-md text-sm font-medium","aria-current":"page",children:"Sign Up"}),Object(m.jsxs)(d.b,{to:"#",id:"newEntry",className:"bg-yellow-600 text-white px-3 hover:bg-yellow-700 flex py-2 rounded-md text-sm font-medium hidden mr-3 transition duration-500","aria-current":"page",children:["light"===o?Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}):Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"New Entry"]}),Object(m.jsx)("button",{onClick:function(){b.auth().signOut(),window.location.replace("/")},id:"logout",className:"bg-gray-500 dark:bg-gray-900 text-white px-3 hover:bg-gray-900 py-2 rounded-md text-sm font-medium transition duration-500 hidden","aria-current":"page",children:"Logout"})]})]})}),Object(m.jsx)("div",{id:"mobile-menu",className:a?"block":"hidden",children:Object(m.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[Object(m.jsx)(d.b,{to:"/",href:"#",className:"bg-gray-900 text-white block px-3 py-2 rounded-md text-base font-medium","aria-current":"page",children:"Home"}),Object(m.jsx)(d.b,{to:u?"/home":"/",className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:"About"})]})})]})};var g=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(localStorage.theme),a=Object(l.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){s(localStorage.theme)}),[r]),Object(n.useEffect)((function(){o.a.to(e,1,{opacity:1,y:-50,ease:i.b.easeOut})}),[]),Object(m.jsxs)("div",{id:"background",className:"h-screen transition-all duration-500 splash-screen dark:splash-screen-dark",children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"jumbotron text-center py-48 lg:py-72 transition-all duration-500",children:Object(m.jsxs)("div",{ref:function(t){e=t},children:[Object(m.jsx)("h1",{className:"text-7xl text-black dark:text-yellow-400 font-bold transition-all duration-500",children:"Zzz Tracker"}),Object(m.jsx)("p",{className:"text-4xl p-6 text-black dark:text-white font-bold transition-all duration-500",children:"Create an account and track your daily sleep"}),Object(m.jsx)(d.b,{to:"/signup",className:"bg-gray-700 hover:bg-gray-800 dark:bg-yellow-400 text-white dark:hover:bg-yellow-500 dark:text-black font-bold py-2 px-5 rounded mb-32 transition-all duration-500",children:"Sign up now"})]})})]})},w=a(9),f=a(22),O=a.n(f),y=a(26),k=(a(57),Object(w.g)((function(e){var t=e.history;x();var a=Object(n.useCallback)(function(){var e=Object(y.a)(O.a.mark((function e(a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,s=n.password,e.prev=2,e.next=5,b.auth().createUserWithEmailAndPassword(r.value,s.value);case 5:t.push("/home"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(m.jsxs)("div",{id:"background",className:"h-screen bg-gray-100 dark:bg-gray-900 transition duration-500 splash-screen dark:splash-screen-dark",children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"mx-auto text-center align-middle w-min pt-32 flex",children:Object(m.jsxs)("div",{className:"p-10 lg:p-24 bg-gray-200 dark:bg-gray-700 transition duration-500 w-m rounded",children:[Object(m.jsxs)("h1",{className:"text-5xl text-black dark:text-yellow-500 font-bold mb-5 transition duration-500",children:[Object(m.jsx)("span",{className:"text-yellow-500 dark:text-white transition duration-500",children:"Zzz"})," Tracker"]}),Object(m.jsxs)("form",{onSubmit:a,children:[Object(m.jsx)("input",{className:"input-email font-bold placeholder-yellow-500 bg-gray-600 text-black dark:text-white w-60 rounded my-5 text-center",name:"email",type:"email",placeholder:"Email"}),Object(m.jsx)("input",{className:"input-password font-bold placeholder-yellow-500 text-black dark:text-white w-60 rounded text-center mb-10",name:"password",type:"password",placeholder:"Password"}),Object(m.jsx)("button",{className:"font-bold bg-yellow-400 hover:bg-yellow-500 w-60 p-2 rounded transition-all duration-300",type:"submit",children:"Sign Up"}),Object(m.jsxs)("p",{className:"mt-5 px-5 font-bold text-black dark:text-white transition duration-500",children:["Already have an account? ",Object(m.jsx)(d.b,{to:"/login",className:"text-yellow-500 cursor-pointer",children:"Log In"})]})]})]})})]})}))),v=(a(58),Object(w.g)((function(e){var t=e.history;x();var a=Object(n.useCallback)(function(){var e=Object(y.a)(O.a.mark((function e(a){var n,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target.elements,r=n.email,s=n.password,e.prev=2,e.next=5,b.auth().signInWithEmailAndPassword(r.value,s.value);case 5:t.push("/home"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(n.useContext)(h).currentUser?Object(m.jsx)(w.a,{to:"/home"}):Object(m.jsxs)("div",{id:"background",className:"h-screen bg-gray-100 dark:bg-gray-900 transition duration-500 splash-screen dark:splash-screen-dark",children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"mx-auto text-center align-middle w-min pt-32 flex",children:Object(m.jsxs)("div",{className:"p-10 lg:p-24 bg-gray-200 dark:bg-gray-700 transition duration-500 rounded",children:[Object(m.jsxs)("h1",{className:"text-5xl text-black dark:text-yellow-500 font-bold mb-5 transition-all duration-500",children:[Object(m.jsx)("span",{className:"text-yellow-500 dark:text-white transition-all duration-500",children:"Zzz"})," Tracker"]}),Object(m.jsxs)("form",{onSubmit:a,children:[Object(m.jsx)("input",{className:"input-email font-bold placeholder-yellow-500 bg-gray-600 text-black dark:text-white w-60 rounded my-5 text-center",name:"email",type:"email",placeholder:"Email"}),Object(m.jsx)("input",{className:"input-password font-bold placeholder-yellow-500 text-black dark:text-white w-60 rounded text-center mb-10",name:"password",type:"password",placeholder:"Password"}),Object(m.jsx)("button",{className:"font-bold bg-yellow-400 hover:bg-yellow-500 w-60 p-2 rounded transition-all duration-300",type:"submit",children:"Log in"}),Object(m.jsxs)("p",{className:"mt-5 font-bold text-black dark:text-white transition duration-500",children:["Don't have an account? ",Object(m.jsx)(d.b,{to:"/signup",className:"text-yellow-500 cursor-pointer",children:"Sign Up"})]})]})]})})]})}))),N=a(91),S=(a(59),a(92)),C=a(35),z=a.n(C);function L(){var e=Object(n.useContext)(h).currentUser,t=e?e.uid:null,a=Object(n.useState)(!1),r=Object(l.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),d=i[0],u=i[1],j=Object(n.useState)(""),g=Object(l.a)(j,2),w=g[0],f=g[1],O=Object(n.useState)(""),y=Object(l.a)(O,2),k=y[0],v=y[1],C=Object(n.useState)([]),L=Object(l.a)(C,2),E=L[0],I=L[1],B=b.firestore().collection("sleepData");function M(e,t){var a=parseInt(new Date("01/01/2007 "+e).getTime()),n=(parseInt(new Date("01/01/2007 "+t).getTime())-a)/6e4/60;n<0&&(n=24+n);var r=z.a.duration(n,"hours");return"".concat(r._data.hours<10?"0"+r._data.hours:r._data.hours,":").concat(r._data.minutes<10?"0"+r._data.minutes:r._data.minutes)}return Object(n.useEffect)((function(){B.where("owner","==",t).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),I(t)}))}),[]),x(),Object(m.jsxs)("div",{id:"background",className:"bg-gray-100 dark:bg-gray-900 pb-3 splash-screen dark:splash-screen-dark transition duration-500 ".concat(s&&E.length>2?"h-full":"h-screen"),children:[Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsxs)("button",{onClick:function(){c(!s)},type:"button",className:"bg-yellow-500 hover:bg-yellow-600 px-10 py-6 font-bold text-black dark:text-gray-200 text-2xl my-10 rounded-full flex transition duration-500",children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-2 my-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"New Entry"]})}),Object(m.jsx)("div",{className:s?"block":"hidden",children:Object(m.jsx)("div",{className:"p-10 lg:p-24 bg-gray-200 dark:bg-gray-700 transition duration-500 rounded w-min mx-auto",children:Object(m.jsx)("div",{className:"mx-auto text-center align-middle w-64",children:Object(m.jsxs)("div",{className:"dark:MuiInputBase-root-dark",children:[Object(m.jsxs)("label",{htmlFor:"date",className:"font-bold text-black dark:text-white transition duration-500",children:[" Select the date",Object(m.jsx)(N.a,{id:"date",type:"date",className:"w-60",defaultValue:(new Date).toISOString().slice(0,10),onChange:function(e){u(e.target.value)},required:!0})]}),Object(m.jsxs)("label",{htmlFor:"asleepTime",className:"font-bold text-black dark:text-white transition duration-500",children:[" What time did you fall asleep?",Object(m.jsx)(N.a,{id:"asleep",type:"time",className:"w-60",defaultValue:"22:00",onChange:function(e){f(e.target.value)},required:!0})]}),Object(m.jsxs)("label",{htmlFor:"wakeupTime",className:"font-bold text-black dark:text-white transition duration-500",children:[" What time did you wake up?",Object(m.jsx)(N.a,{id:"wakeup",type:"time",className:"w-60",defaultValue:"06:00",onChange:function(e){v(e.target.value)},required:!0})]}),Object(m.jsx)("button",{onClick:function(){return function(){var t=e?e.uid:"unknown",a=e?e.email:"unknown",n={sleepDate:d,asleepTime:w,wakeupTime:k,id:Object(S.a)(),owner:t,ownerEmail:a,createdAt:(new Date).toLocaleDateString()};""===d||""===w||""===k?alert("Please fill in the whole form"):B.doc(n.id).set(n).catch((function(e){console.error(e)}))}()},className:"font-bold bg-yellow-400 hover:bg-yellow-500 w-60 p-2 rounded transition-all duration-300",children:"Submit"})]})})})}),Object(m.jsxs)("div",{className:"mx-10 text-center",children:[Object(m.jsx)("h1",{className:"text-3xl font-bold text-black dark:text-white my-5 transition duration-500",children:0!==E.length?"Your Sleep Entries":"You haven't added any entries yet, you can add one by clicking the button above"}),E.map((function(e){return Object(m.jsxs)("div",{className:"flex text-xs md:text-lg text-black dark:text-white justify-center bg-gray-200 dark:bg-yellow-600 w-full lg:w-1/2 py-2 my-3 mx-auto transition duration-500 rounded md:rounded-full overflow-auto",children:[Object(m.jsxs)("h1",{className:"mx-2 lg:mx-5",children:["Date: ",Object(m.jsx)("span",{className:"font-bold",children:e.sleepDate})]}),Object(m.jsxs)("h1",{className:"mx-2 lg:mx-5",children:["Asleep time: ",Object(m.jsx)("span",{className:"font-bold",children:e.asleepTime})]}),Object(m.jsxs)("h1",{className:"mx-2 lg:mx-5",children:["Wakeup time: ",Object(m.jsx)("span",{className:"font-bold",children:e.wakeupTime})]}),Object(m.jsxs)("h1",{className:"mx-2 lg:mx-5",children:["Total sleep time: ",Object(m.jsx)("span",{className:"font-bold",children:M(e.asleepTime,e.wakeupTime)})]}),Object(m.jsx)("span",{className:"cursor-pointer my-auto hover:text-red-600 mr-2",onClick:function(){var t;t=e,B.doc(t.id).delete().catch((function(e){console.error(e)}))},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},e.id)}))]})]})}var E=function(){return null===localStorage.getItem("theme")&&localStorage.setItem("theme","light"),Object(m.jsx)(j,{children:Object(m.jsx)(d.a,{basename:"/zzz-tracker",children:Object(m.jsxs)(w.d,{children:[Object(m.jsx)(w.b,{path:"/",exact:!0,children:Object(m.jsx)(g,{})}),Object(m.jsx)(w.b,{path:"/signup",component:k,children:Object(m.jsx)(k,{})}),Object(m.jsx)(w.b,{path:"/login",component:v,children:Object(m.jsx)(v,{})}),Object(m.jsx)(w.b,{path:"/home",component:L,children:Object(m.jsx)(L,{})})]})})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,93)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),I()}},[[61,1,2]]]);
//# sourceMappingURL=main.5b98561e.chunk.js.map